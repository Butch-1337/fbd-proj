Modernizr.canvas?console.log("support canvas +"):alert("Your browser does not support canvas!"),Modernizr.mutationobserver?console.log("support mutationobserver +"):alert("Your browser does not support mutationobserver!"),Modernizr.cssgradients?console.log("support cssgradients +"):alert("Your browser does not support cssgradients!");var oId,p2,arrowsArr=[],blocksArr=[],inUseObj={},ctObj={},btObj={},delMode=0;function Menu(e){var t=4;this.switch=function(){createBlock("sw",t),dragndrop(),t++},this.out=function(){createBlock("out",t),dragndrop(),t++},this.and=function(){createBlock("and",t),dragndrop(),t++},this.or=function(){createBlock("or",t),dragndrop(),t++},this.xor=function(){createBlock("xor",t),dragndrop(),t++},this.not=function(){createBlock("not",t),dragndrop(),t++},this.nand=function(){createBlock("nand",t),dragndrop(),t++},this.nor=function(){createBlock("nor",t),dragndrop(),t++},this.delay=function(){createBlock("delay",t),dragndrop(),t++},this.ton=function(){createBlock("ton",t),dragndrop(),t++},this.tof=function(){createBlock("tof",t),dragndrop(),t++},this.pulse=function(){createBlock("pulse",t),dragndrop(),t++},this.rs=function(){createBlock("rs",t),dragndrop(),t++},this.trig=function(){createBlock("trig",t),dragndrop(),t++},this.delm=function(){delMode=+!delMode;var e=document.getElementsByClassName("menu-button"),t=document.getElementsByClassName("block-name"),n=document.getElementsByClassName("out"),d=document.getElementsByClassName("in");if(delMode){for(var o=0;o<t.length;o++)t[o].classList.add("del-cursor");for(o=0;o<n.length;o++)n[o].classList.add("del-cursor");for(var a=0;a<d.length;a++)d[a].classList.add("del-cursor");for(var r=0;r<e.length;r++)e[r].setAttribute("disabled","")}else{for(o=0;o<t.length;o++)t[o].classList.remove("del-cursor");for(o=0;o<n.length;o++)n[o].classList.remove("del-cursor");for(a=0;a<d.length;a++)d[a].classList.remove("del-cursor");for(r=0;r<e.length;r++)e[r].removeAttribute("disabled","")}};var n=this;e.onclick=function(e){var t=e.target.getAttribute("data-action");t&&n[t]()}}function getCoords(e){var t=e.getBoundingClientRect();return{top:t.top,left:t.left}}new Menu(menu);var arrowCur=$cArrows("#content");function arrowDivCur(){var e=document.getElementById("arrow-div");e&&e.remove(),arrowCur.clear();var t=document.getElementById("content"),n=document.createElement("div");n.id="arrow-div",n.className="arrow-div",n.style.position="absolute",n.style.left=event.clientX-getCoords(t).left-2+"px",n.style.top=event.clientY-getCoords(t).top-2+"px",document.getElementById("content").appendChild(n),arrowCur.arrow("#"+oId,"#arrow-div",{arrow:{connectionType:"side",sideFrom:"right",sideTo:"left"}})}function delArrowDivCur(){if(27==event.keyCode){var e=document.getElementById("arrow-div");arrowCur.clear(),e&&(document.getElementById("content").removeChild(e),document.removeEventListener("mousemove",arrowDivCur))}}function ContentClick(e){this.startPoint=function(){event=event||window.event,oId=event.target.id,document.addEventListener("mousemove",arrowDivCur),document.addEventListener("keydown",delArrowDivCur),delMode&&confirm("Delete arrow(s) from: "+oId+"?")&&delOutArrow(oId)},this.endPoint=function(){if(event=event||window.event,p2=event.target.id,delMode)confirm("Delete arrow to: "+p2+"?")&&delInArrow([p2]);else if(inUseObj[p2])alert("Input is already in use");else{var e=document.getElementById("arrow-div");arrowCur.clear(),e&&(document.getElementById("content").removeChild(e),document.removeEventListener("mousemove",arrowDivCur));var t=$cArrows("#content");t.arrow("#"+oId,"#"+p2,{arrow:{connectionType:"side",sideFrom:"right",sideTo:"left"}}),arrowsArr.push([oId,p2,t]),document.getElementById(p2).innerHTML=document.getElementById(oId).innerHTML,inUseObj[p2]=1}},this.canBeDel=function(){event=event||window.event;var e=event.target.parentElement,t=[];if(delMode&&confirm("Delete block: "+e.id+" and connected arrows?")){for(var n=0;n<e.childNodes.length;n++)"out del-cursor"!=e.childNodes[n].className&&e.childNodes[n].className!="in in"+(n-1)+" del-cursor"||t.push(e.childNodes[n].id);for(var d=blocksArr.length-1;d>=0;d--)blocksArr[d][1]==t[t.length-1]&&blocksArr.splice(d,1);delOutArrow(t[t.length-1]),delInArrow(t),e.remove()}};var t=this;e.onclick=function(e){var n=e.target.getAttribute("data-action");n&&t[n]()}}function delInArrow(e){for(var t=arrowsArr.length-1;t>=0;t--)for(var n=0;n<e.length;n++)arrowsArr[t]&&arrowsArr[t][1]==e[n]&&(delete inUseObj[arrowsArr[t][1]],arrowsArr[t][2].clear(),arrowsArr.splice(t,1))}function delOutArrow(e){for(var t=arrowsArr.length-1;t>=0;t--)arrowsArr[t][0]==e&&(delete inUseObj[arrowsArr[t][1]],arrowsArr[t][2].clear(),arrowsArr.splice(t,1))}function createBlock(e,t){switch(e){case"sw":var n=document.createElement("div"),d=document.createElement("span"),o=document.createElement("div"),a=document.createElement("div"),r=document.createElement("button");n.className="ui-draggable new",n.id="Block"+t,d.className="bl-span-id",d.innerHTML=n.id,o.className="block-name",o.setAttribute("data-action","canBeDel"),o.innerHTML="1/0",a.className="out",a.id="b"+t+"out",a.setAttribute("data-action","startPoint"),a.innerHTML=0,r.className="sw-button",r.innerHTML="1/0",r.setAttribute("onclick","init('"+a.id+"')"),document.getElementById("content").appendChild(n),document.getElementById("Block"+t).appendChild(d),document.getElementById("Block"+t).appendChild(o),document.getElementById("Block"+t).appendChild(a),document.getElementById("Block"+t).appendChild(r);break;case"out":n=document.createElement("div"),d=document.createElement("span"),o=document.createElement("div"),a=document.createElement("div");var i=document.createElement("div");n.className="ui-draggable new",n.id="Block"+t,d.className="bl-span-id",d.innerHTML=n.id,o.className="block-name",o.setAttribute("data-action","canBeDel"),o.innerHTML="OUT",a.className="in in1",a.id="b"+t+"in1",a.setAttribute("data-action","endPoint"),i.className="out",i.id="b"+t+"out",i.innerHTML=0,i.setAttribute("data-action","startPoint"),document.getElementById("content").appendChild(n),document.getElementById("Block"+t).appendChild(d),document.getElementById("Block"+t).appendChild(o),document.getElementById("Block"+t).appendChild(a),document.getElementById("Block"+t).appendChild(i),blocksArr.push([outBl,i.id,a.id]),observer.observe(a,options);break;case"and":n=document.createElement("div"),d=document.createElement("span"),o=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div");var c=document.createElement("div");n.className="ui-draggable new",n.id="Block"+t,d.className="bl-span-id",d.innerHTML=n.id,o.className="block-name",o.setAttribute("data-action","canBeDel"),o.innerHTML="&",a.className="in in1",a.id="b"+t+"in1",a.setAttribute("data-action","endPoint"),i.className="in in2",i.id="b"+t+"in2",i.setAttribute("data-action","endPoint"),c.className="out",c.id="b"+t+"out",c.setAttribute("data-action","startPoint"),c.innerHTML=0,document.getElementById("content").appendChild(n),document.getElementById("Block"+t).appendChild(d),document.getElementById("Block"+t).appendChild(o),document.getElementById("Block"+t).appendChild(a),document.getElementById("Block"+t).appendChild(i),document.getElementById("Block"+t).appendChild(c),blocksArr.push([andBl,c.id,a.id,i.id]),observer.observe(a,options),observer.observe(i,options);break;case"or":n=document.createElement("div"),d=document.createElement("span"),o=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div"),c=document.createElement("div");n.className="ui-draggable new",n.id="Block"+t,d.className="bl-span-id",d.innerHTML=n.id,o.className="block-name",o.setAttribute("data-action","canBeDel"),o.innerHTML="OR",a.className="in in1",a.id="b"+t+"in1",a.setAttribute("data-action","endPoint"),i.className="in in2",i.id="b"+t+"in2",i.setAttribute("data-action","endPoint"),c.className="out",c.id="b"+t+"out",c.setAttribute("data-action","startPoint"),c.innerHTML=0,document.getElementById("content").appendChild(n),document.getElementById("Block"+t).appendChild(d),document.getElementById("Block"+t).appendChild(o),document.getElementById("Block"+t).appendChild(a),document.getElementById("Block"+t).appendChild(i),document.getElementById("Block"+t).appendChild(c),blocksArr.push([orBl,c.id,a.id,i.id]),observer.observe(a,options),observer.observe(i,options);break;case"xor":n=document.createElement("div"),d=document.createElement("span"),o=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div"),c=document.createElement("div");n.className="ui-draggable new",n.id="Block"+t,d.className="bl-span-id",d.innerHTML=n.id,o.className="block-name",o.setAttribute("data-action","canBeDel"),o.innerHTML="XOR",a.className="in in1",a.id="b"+t+"in1",a.setAttribute("data-action","endPoint"),i.className="in in2",i.id="b"+t+"in2",i.setAttribute("data-action","endPoint"),c.className="out",c.id="b"+t+"out",c.setAttribute("data-action","startPoint"),c.innerHTML=0,document.getElementById("content").appendChild(n),document.getElementById("Block"+t).appendChild(d),document.getElementById("Block"+t).appendChild(o),document.getElementById("Block"+t).appendChild(a),document.getElementById("Block"+t).appendChild(i),document.getElementById("Block"+t).appendChild(c),blocksArr.push([xorBl,c.id,a.id,i.id]),observer.observe(a,options),observer.observe(i,options);break;case"not":n=document.createElement("div"),d=document.createElement("span"),o=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div");n.className="ui-draggable new",n.id="Block"+t,d.className="bl-span-id",d.innerHTML=n.id,o.className="block-name",o.setAttribute("data-action","canBeDel"),o.innerHTML="NOT",a.className="in in1",a.id="b"+t+"in1",a.setAttribute("data-action","endPoint"),i.className="out",i.id="b"+t+"out",i.setAttribute("data-action","startPoint"),i.innerHTML=1,document.getElementById("content").appendChild(n),document.getElementById("Block"+t).appendChild(d),document.getElementById("Block"+t).appendChild(o),document.getElementById("Block"+t).appendChild(a),document.getElementById("Block"+t).appendChild(i),blocksArr.push([notBl,i.id,a.id]),observer.observe(a,options);break;case"nand":n=document.createElement("div"),d=document.createElement("span"),o=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div"),c=document.createElement("div");n.className="ui-draggable new",n.id="Block"+t,d.className="bl-span-id",d.innerHTML=n.id,o.className="block-name",o.setAttribute("data-action","canBeDel"),o.innerHTML="&NOT",a.className="in in1",a.id="b"+t+"in1",a.setAttribute("data-action","endPoint"),i.className="in in2",i.id="b"+t+"in2",i.setAttribute("data-action","endPoint"),c.className="out",c.id="b"+t+"out",c.setAttribute("data-action","startPoint"),c.innerHTML=1,document.getElementById("content").appendChild(n),document.getElementById("Block"+t).appendChild(d),document.getElementById("Block"+t).appendChild(o),document.getElementById("Block"+t).appendChild(a),document.getElementById("Block"+t).appendChild(i),document.getElementById("Block"+t).appendChild(c),blocksArr.push([nandBl,c.id,a.id,i.id]),observer.observe(a,options),observer.observe(i,options);break;case"nor":n=document.createElement("div"),d=document.createElement("span"),o=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div"),c=document.createElement("div");n.className="ui-draggable new",n.id="Block"+t,d.className="bl-span-id",d.innerHTML=n.id,o.className="block-name",o.setAttribute("data-action","canBeDel"),o.innerHTML="ORNOT",a.className="in in1",a.id="b"+t+"in1",a.setAttribute("data-action","endPoint"),i.className="in in2",i.id="b"+t+"in2",i.setAttribute("data-action","endPoint"),c.className="out",c.id="b"+t+"out",c.setAttribute("data-action","startPoint"),c.innerHTML=1,document.getElementById("content").appendChild(n),document.getElementById("Block"+t).appendChild(d),document.getElementById("Block"+t).appendChild(o),document.getElementById("Block"+t).appendChild(a),document.getElementById("Block"+t).appendChild(i),document.getElementById("Block"+t).appendChild(c),blocksArr.push([norBl,c.id,a.id,i.id]),observer.observe(a,options),observer.observe(i,options);break;case"delay":n=document.createElement("div"),d=document.createElement("span"),o=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div");var l=document.createElement("input"),m=document.createElement("span");n.className="ui-draggable new",n.id="Block"+t,d.className="bl-span-id",d.innerHTML=n.id,o.className="block-name",o.setAttribute("data-action","canBeDel"),o.innerHTML="DELAY",a.className="in in1",a.id="b"+t+"in1",a.setAttribute("data-action","endPoint"),i.className="out",i.id="b"+t+"out",i.setAttribute("data-action","startPoint"),i.innerHTML=0,l.id="b"+t+"input",l.setAttribute("type","number"),l.setAttribute("min","0"),l.setAttribute("value","1.5"),l.setAttribute("step","0.5"),m.innerHTML="S",document.getElementById("content").appendChild(n),document.getElementById("Block"+t).appendChild(d),document.getElementById("Block"+t).appendChild(o),document.getElementById("Block"+t).appendChild(a),document.getElementById("Block"+t).appendChild(i),document.getElementById("Block"+t).appendChild(l),document.getElementById("Block"+t).appendChild(m),blocksArr.push([delayBl,i.id,a.id,l.id]),observer.observe(a,options);break;case"ton":n=document.createElement("div"),d=document.createElement("span"),o=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div"),l=document.createElement("input"),m=document.createElement("span");n.className="ui-draggable new",n.id="Block"+t,d.className="bl-span-id",d.innerHTML=n.id,o.className="block-name",o.setAttribute("data-action","canBeDel"),o.innerHTML="TON",a.className="in in1",a.id="b"+t+"in1",a.setAttribute("data-action","endPoint"),i.className="out",i.id="b"+t+"out",i.setAttribute("data-action","startPoint"),i.innerHTML=0,l.id="b"+t+"input",l.setAttribute("type","number"),l.setAttribute("min","0"),l.setAttribute("value","1.5"),l.setAttribute("step","0.5"),m.innerHTML="S",document.getElementById("content").appendChild(n),document.getElementById("Block"+t).appendChild(d),document.getElementById("Block"+t).appendChild(o),document.getElementById("Block"+t).appendChild(a),document.getElementById("Block"+t).appendChild(i),document.getElementById("Block"+t).appendChild(l),document.getElementById("Block"+t).appendChild(m),blocksArr.push([tonBl,i.id,a.id,l.id]),observer.observe(a,options);break;case"tof":n=document.createElement("div"),d=document.createElement("span"),o=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div"),l=document.createElement("input"),m=document.createElement("span");n.className="ui-draggable new",n.id="Block"+t,d.className="bl-span-id",d.innerHTML=n.id,o.className="block-name",o.setAttribute("data-action","canBeDel"),o.innerHTML="TOF",a.className="in in1",a.id="b"+t+"in1",a.setAttribute("data-action","endPoint"),i.className="out",i.id="b"+t+"out",i.setAttribute("data-action","startPoint"),i.innerHTML=0,l.id="b"+t+"input",l.setAttribute("type","number"),l.setAttribute("min","0"),l.setAttribute("value","1.5"),l.setAttribute("step","0.5"),m.innerHTML="S",document.getElementById("content").appendChild(n),document.getElementById("Block"+t).appendChild(d),document.getElementById("Block"+t).appendChild(o),document.getElementById("Block"+t).appendChild(a),document.getElementById("Block"+t).appendChild(i),document.getElementById("Block"+t).appendChild(l),document.getElementById("Block"+t).appendChild(m),blocksArr.push([tofBl,i.id,a.id,l.id]),observer.observe(a,options);break;case"pulse":n=document.createElement("div"),d=document.createElement("span"),o=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div"),l=document.createElement("input"),m=document.createElement("span");n.className="ui-draggable new",n.id="Block"+t,d.className="bl-span-id",d.innerHTML=n.id,o.className="block-name",o.setAttribute("data-action","canBeDel"),o.innerHTML="PULSE",a.className="in in1",a.id="b"+t+"in1",a.setAttribute("data-action","endPoint"),i.className="out",i.id="b"+t+"out",i.setAttribute("data-action","startPoint"),i.innerHTML=0,l.id="b"+t+"input",l.setAttribute("type","number"),l.setAttribute("min","0"),l.setAttribute("value","1.5"),l.setAttribute("step","0.5"),m.innerHTML="S",document.getElementById("content").appendChild(n),document.getElementById("Block"+t).appendChild(d),document.getElementById("Block"+t).appendChild(o),document.getElementById("Block"+t).appendChild(a),document.getElementById("Block"+t).appendChild(i),document.getElementById("Block"+t).appendChild(l),document.getElementById("Block"+t).appendChild(m),blocksArr.push([pulseBl,i.id,a.id,l.id]),observer.observe(a,options);break;case"rs":n=document.createElement("div"),d=document.createElement("span"),o=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div"),c=document.createElement("div");span1=document.createElement("span"),span2=document.createElement("span"),n.className="ui-draggable new",n.id="Block"+t,d.className="bl-span-id",d.innerHTML=n.id,o.className="block-name",o.setAttribute("data-action","canBeDel"),o.innerHTML="RS",a.className="in in1",a.id="b"+t+"in1",a.setAttribute("data-action","endPoint"),span1.className="i-span1",span1.innerHTML="S",i.className="in in2",i.id="b"+t+"in2",i.setAttribute("data-action","endPoint"),span2.className="i-span2",span2.innerHTML="R",c.className="out",c.id="b"+t+"out",c.setAttribute("data-action","startPoint"),c.innerHTML=0,document.getElementById("content").appendChild(n),document.getElementById("Block"+t).appendChild(d),document.getElementById("Block"+t).appendChild(o),document.getElementById("Block"+t).appendChild(a),document.getElementById("Block"+t).appendChild(i),document.getElementById("Block"+t).appendChild(c),document.getElementById("Block"+t).appendChild(span1),document.getElementById("Block"+t).appendChild(span2),blocksArr.push([rsBl,c.id,a.id,i.id]),observer.observe(a,options),observer.observe(i,options);break;case"trig":n=document.createElement("div"),d=document.createElement("span"),o=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div");n.className="ui-draggable new",n.id="Block"+t,d.className="bl-span-id",d.innerHTML=n.id,o.className="block-name",o.setAttribute("data-action","canBeDel"),o.innerHTML="TRIG",a.className="in in1",a.id="b"+t+"in1",a.setAttribute("data-action","endPoint"),i.className="out",i.id="b"+t+"out",i.setAttribute("data-action","startPoint"),i.innerHTML=0,document.getElementById("content").appendChild(n),document.getElementById("Block"+t).appendChild(d),document.getElementById("Block"+t).appendChild(o),document.getElementById("Block"+t).appendChild(a),document.getElementById("Block"+t).appendChild(i),blocksArr.push([trigBl,i.id,a.id]),observer.observe(a,options)}}new ContentClick(content);var callback=function(e){var t=[];console.log(e),e.forEach(function(n,d){console.log("Type of mutation: "+n.type),console.log("Target.id: "+e[d].target.parentNode.id),t.push(e[d].target.id)});for(var n=0;n<t.length;n++)for(var d=0;d<blocksArr.length;d++)blocksArr[d][2]!=t[n]&&blocksArr[d][3]!=t[n]||(console.log("mutation loop",blocksArr[d][2],blocksArr[d][3],t[n]),blocksArr[d][0](blocksArr[d][1],blocksArr[d][2],blocksArr[d][3]),chColor(blocksArr[d][1]),chIn(blocksArr[d][1]))},observer=new MutationObserver(callback),options={childList:!0,characterData:!0};function outBl(e,t){var n=document.getElementById(t).parentElement,d=document.getElementById(t).innerHTML;document.getElementById(e).innerHTML=+d,n.style.background=1==+d?"radial-gradient(#F7F7F7 0%,green 100%)":"radial-gradient(#F7F7F7 0%,red 100%)"}function andBl(e,t,n){var d=document.getElementById(t).innerHTML,o=document.getElementById(n).innerHTML;document.getElementById(e).innerHTML=+d&+o}function orBl(e,t,n){var d=document.getElementById(t).innerHTML,o=document.getElementById(n).innerHTML;document.getElementById(e).innerHTML=+d|+o}function xorBl(e,t,n){var d=document.getElementById(t).innerHTML,o=document.getElementById(n).innerHTML;document.getElementById(e).innerHTML=+d^+o}function notBl(e,t){var n=document.getElementById(t).innerHTML;document.getElementById(e).innerHTML=+!+n}function nandBl(e,t,n){var d=document.getElementById(t).innerHTML,o=document.getElementById(n).innerHTML;document.getElementById(e).innerHTML=+!(+d&+o)}function norBl(e,t,n){var d=document.getElementById(t).innerHTML,o=document.getElementById(n).innerHTML;document.getElementById(e).innerHTML=+!(+d|+o)}function delayBl(e,t,n){var d=document.getElementById(t).innerHTML,o=1e3*document.getElementById(n).value;setTimeout(function(){document.getElementById(e).innerHTML=+d,chColor(e),chIn(e)},o)}function tonBl(e,t,n){var d,o=document.getElementById(t).innerHTML,a=1e3*document.getElementById(n).value;clearTimeout(ctObj[e]),0==o&&(document.getElementById(e).innerHTML=0,btObj[e]=0),1!=o||btObj[e]||(d=setTimeout(initDelay,a,e,1),ctObj[e]=d)}function tofBl(e,t,n){var d,o=document.getElementById(t).innerHTML,a=1e3*document.getElementById(n).value;clearTimeout(ctObj[e]),1==o&&(document.getElementById(e).innerHTML=1,btObj[e]=0),0!=o||btObj[e]||(d=setTimeout(initDelay,a,e,0),ctObj[e]=d)}function pulseBl(e,t,n){var d,o=document.getElementById(t).innerHTML,a=1e3*document.getElementById(n).value;1!=o||btObj[e]||(document.getElementById(e).innerHTML=1,btObj[e]=1,d=setTimeout(initDelay,a,e,0),ctObj[e]=d,setTimeout(function(){btObj[e]=0},a))}function initDelay(e,t){document.getElementById(e).innerHTML=t,chColor(e),chIn(e),btObj[e]=1}function rsBl(e,t,n){var d=+document.getElementById(t).innerHTML,o=+document.getElementById(n).innerHTML,a=+document.getElementById(e).innerHTML;setTimeout(function(){a=!(!d&&!a||o),document.getElementById(e).innerHTML=+a,chColor(e),chIn(e)},10)}function trigBl(e,t){+document.getElementById(t).innerHTML&&(document.getElementById(e).innerHTML=1,setTimeout(initDelay,15,e,0))}function chColor(e){var t=document.getElementById(e);if(0==document.getElementById(e).innerHTML){t.style.background="#fd3939";for(var n=0;n<arrowsArr.length;n++)e==arrowsArr[n][0]&&(arrowsArr[n][2].updateOptions({render:{strokeStyle:"#fd3939"}}),arrowsArr[n][2].redraw())}else{t.style.background="#2d962d";for(n=0;n<arrowsArr.length;n++)e==arrowsArr[n][0]&&(arrowsArr[n][2].updateOptions({render:{strokeStyle:"#2d962d"}}),arrowsArr[n][2].redraw())}}function init(e){var t=document.getElementById(e).innerHTML;t=0==t?1:0,document.getElementById(e).innerHTML=t,chColor(e),chIn(e)}function chIn(e){for(var t,n=document.getElementById(e).innerHTML,d=0;d<arrowsArr.length;d++)0==arrowsArr[d].indexOf(e)&&(t=arrowsArr[d][1],document.getElementById(t).innerHTML=n,chColor(t))}function dragndrop(){$("#content .ui-draggable").draggable({containment:"#content",scroll:!1,cursor:"move",drag:function(e,t){for(var n=0;n<arrowsArr.length;n++)arrowsArr[n][2].redraw()}})}dragndrop();