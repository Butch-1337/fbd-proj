function Menu(a){var b=4;this.switch=function(){createBlock("sw",b),dragndrop(),b++},this.out=function(){createBlock("out",b),dragndrop(),b++},this.and=function(){createBlock("and",b),dragndrop(),b++},this.or=function(){createBlock("or",b),dragndrop(),b++},this.xor=function(){createBlock("xor",b),dragndrop(),b++},this.not=function(){createBlock("not",b),dragndrop(),b++},this.nand=function(){createBlock("nand",b),dragndrop(),b++},this.nor=function(){createBlock("nor",b),dragndrop(),b++},this.delay=function(){createBlock("delay",b),dragndrop(),b++},this.ton=function(){createBlock("ton",b),dragndrop(),b++},this.tof=function(){createBlock("tof",b),dragndrop(),b++},this.pulse=function(){createBlock("pulse",b),dragndrop(),b++},this.rs=function(){createBlock("rs",b),dragndrop(),b++},this.trig=function(){createBlock("trig",b),dragndrop(),b++},this.delm=function(){delMode=+!delMode;var a=document.getElementsByClassName("menu-button"),b=document.getElementsByClassName("block-name"),c=document.getElementsByClassName("out"),d=document.getElementsByClassName("in");if(delMode){for(var e=0;e<b.length;e++)b[e].classList.add("del-cursor");for(var e=0;e<c.length;e++)c[e].classList.add("del-cursor");for(var f=0;f<d.length;f++)d[f].classList.add("del-cursor");for(var g=0;g<a.length;g++)a[g].setAttribute("disabled","")}else{for(var e=0;e<b.length;e++)b[e].classList.remove("del-cursor");for(var e=0;e<c.length;e++)c[e].classList.remove("del-cursor");for(var f=0;f<d.length;f++)d[f].classList.remove("del-cursor");for(var g=0;g<a.length;g++)a[g].removeAttribute("disabled","")}};var c=this;a.onclick=function(a){var b=a.target,d=b.getAttribute("data-action");d&&c[d]()}}function getCoords(a){var b=a.getBoundingClientRect();return{top:b.top,left:b.left}}function arrowDivCur(){var a=document.getElementById("arrow-div");a&&a.remove(),arrowCur.clear();var b=document.getElementById("content"),c=document.createElement("div");c.id="arrow-div",c.className="arrow-div",c.style.position="absolute",c.style.left=event.clientX-getCoords(b).left-2+"px",c.style.top=event.clientY-getCoords(b).top-2+"px",document.getElementById("content").appendChild(c),arrowCur.arrow("#"+oId,"#arrow-div",{arrow:{connectionType:"side",sideFrom:"right",sideTo:"left"}})}function delArrowDivCur(){if(27==event.keyCode){var a=document.getElementById("arrow-div");arrowCur.clear(),a&&(document.getElementById("content").removeChild(a),document.removeEventListener("mousemove",arrowDivCur))}}function ContentClick(a){this.startPoint=function(){event=event||window.event,oId=event.target.id,document.addEventListener("mousemove",arrowDivCur),document.addEventListener("keydown",delArrowDivCur),delMode&&confirm("Delete arrow(s) from: "+oId+"?")&&delOutArrow(oId)},this.endPoint=function(){if(event=event||window.event,p2=event.target.id,delMode)confirm("Delete arrow to: "+p2+"?")&&delInArrow([p2]);else if(inUseObj[p2])alert("Input is already in use");else{var a=document.getElementById("arrow-div");arrowCur.clear(),a&&(document.getElementById("content").removeChild(a),document.removeEventListener("mousemove",arrowDivCur));var b=$cArrows("#content");b.arrow("#"+oId,"#"+p2,{arrow:{connectionType:"side",sideFrom:"right",sideTo:"left"}}),arrowsArr.push([oId,p2,b]),document.getElementById(p2).innerHTML=document.getElementById(oId).innerHTML,inUseObj[p2]=1}},this.canBeDel=function(){event=event||window.event;var a=event.target.parentElement,b=[];if(delMode&&confirm("Delete block: "+a.id+" and connected arrows?")){for(var c=0;c<a.childNodes.length;c++)"out del-cursor"!=a.childNodes[c].className&&a.childNodes[c].className!="in in"+(c-1)+" del-cursor"||b.push(a.childNodes[c].id);for(var d=blocksArr.length-1;d>=0;d--)blocksArr[d][1]==b[b.length-1]&&blocksArr.splice(d,1);delOutArrow(b[b.length-1]),delInArrow(b),a.remove()}};var b=this;a.onclick=function(a){var c=a.target,d=c.getAttribute("data-action");d&&b[d]()}}function delInArrow(a){for(var b=arrowsArr.length-1;b>=0;b--)for(var c=0;c<a.length;c++)arrowsArr[b]&&arrowsArr[b][1]==a[c]&&(delete inUseObj[arrowsArr[b][1]],arrowsArr[b][2].clear(),arrowsArr.splice(b,1))}function delOutArrow(a){for(var b=arrowsArr.length-1;b>=0;b--)arrowsArr[b][0]==a&&(delete inUseObj[arrowsArr[b][1]],arrowsArr[b][2].clear(),arrowsArr.splice(b,1))}function createBlock(a,b){switch(a){case"sw":var c=document.createElement("div"),d=document.createElement("span"),e=document.createElement("div"),f=document.createElement("div"),g=document.createElement("button");c.className="ui-draggable new",c.id="Block"+b,d.className="bl-span-id",d.innerHTML=c.id,e.className="block-name",e.setAttribute("data-action","canBeDel"),e.innerHTML="1/0",f.className="out",f.id="b"+b+"out",f.setAttribute("data-action","startPoint"),f.innerHTML=0,g.className="sw-button",g.innerHTML="1/0",g.setAttribute("onclick","init('"+f.id+"')"),document.getElementById("content").appendChild(c),document.getElementById("Block"+b).appendChild(d),document.getElementById("Block"+b).appendChild(e),document.getElementById("Block"+b).appendChild(f),document.getElementById("Block"+b).appendChild(g);break;case"out":var c=document.createElement("div"),d=document.createElement("span"),e=document.createElement("div"),f=document.createElement("div"),h=document.createElement("div");c.className="ui-draggable new",c.id="Block"+b,d.className="bl-span-id",d.innerHTML=c.id,e.className="block-name",e.setAttribute("data-action","canBeDel"),e.innerHTML="OUT",f.className="in in1",f.id="b"+b+"in1",f.setAttribute("data-action","endPoint"),h.className="out",h.id="b"+b+"out",h.innerHTML=0,h.setAttribute("data-action","startPoint"),document.getElementById("content").appendChild(c),document.getElementById("Block"+b).appendChild(d),document.getElementById("Block"+b).appendChild(e),document.getElementById("Block"+b).appendChild(f),document.getElementById("Block"+b).appendChild(h),blocksArr.push([outBl,h.id,f.id]),observer.observe(c,options);break;case"and":var c=document.createElement("div"),d=document.createElement("span"),e=document.createElement("div"),f=document.createElement("div"),h=document.createElement("div"),i=document.createElement("div");c.className="ui-draggable new",c.id="Block"+b,d.className="bl-span-id",d.innerHTML=c.id,e.className="block-name",e.setAttribute("data-action","canBeDel"),e.innerHTML="&",f.className="in in1",f.id="b"+b+"in1",f.setAttribute("data-action","endPoint"),h.className="in in2",h.id="b"+b+"in2",h.setAttribute("data-action","endPoint"),i.className="out",i.id="b"+b+"out",i.setAttribute("data-action","startPoint"),i.innerHTML=0,document.getElementById("content").appendChild(c),document.getElementById("Block"+b).appendChild(d),document.getElementById("Block"+b).appendChild(e),document.getElementById("Block"+b).appendChild(f),document.getElementById("Block"+b).appendChild(h),document.getElementById("Block"+b).appendChild(i),blocksArr.push([andBl,i.id,f.id,h.id]),observer.observe(c,options);break;case"or":var c=document.createElement("div"),d=document.createElement("span"),e=document.createElement("div"),f=document.createElement("div"),h=document.createElement("div"),i=document.createElement("div");c.className="ui-draggable new",c.id="Block"+b,d.className="bl-span-id",d.innerHTML=c.id,e.className="block-name",e.setAttribute("data-action","canBeDel"),e.innerHTML="OR",f.className="in in1",f.id="b"+b+"in1",f.setAttribute("data-action","endPoint"),h.className="in in2",h.id="b"+b+"in2",h.setAttribute("data-action","endPoint"),i.className="out",i.id="b"+b+"out",i.setAttribute("data-action","startPoint"),i.innerHTML=0,document.getElementById("content").appendChild(c),document.getElementById("Block"+b).appendChild(d),document.getElementById("Block"+b).appendChild(e),document.getElementById("Block"+b).appendChild(f),document.getElementById("Block"+b).appendChild(h),document.getElementById("Block"+b).appendChild(i),blocksArr.push([orBl,i.id,f.id,h.id]),observer.observe(c,options);break;case"xor":var c=document.createElement("div"),d=document.createElement("span"),e=document.createElement("div"),f=document.createElement("div"),h=document.createElement("div"),i=document.createElement("div");c.className="ui-draggable new",c.id="Block"+b,d.className="bl-span-id",d.innerHTML=c.id,e.className="block-name",e.setAttribute("data-action","canBeDel"),e.innerHTML="XOR",f.className="in in1",f.id="b"+b+"in1",f.setAttribute("data-action","endPoint"),h.className="in in2",h.id="b"+b+"in2",h.setAttribute("data-action","endPoint"),i.className="out",i.id="b"+b+"out",i.setAttribute("data-action","startPoint"),i.innerHTML=0,document.getElementById("content").appendChild(c),document.getElementById("Block"+b).appendChild(d),document.getElementById("Block"+b).appendChild(e),document.getElementById("Block"+b).appendChild(f),document.getElementById("Block"+b).appendChild(h),document.getElementById("Block"+b).appendChild(i),blocksArr.push([xorBl,i.id,f.id,h.id]),observer.observe(c,options);break;case"not":var c=document.createElement("div"),d=document.createElement("span"),e=document.createElement("div"),f=document.createElement("div"),h=document.createElement("div");c.className="ui-draggable new",c.id="Block"+b,d.className="bl-span-id",d.innerHTML=c.id,e.className="block-name",e.setAttribute("data-action","canBeDel"),e.innerHTML="NOT",f.className="in in1",f.id="b"+b+"in1",f.setAttribute("data-action","endPoint"),h.className="out",h.id="b"+b+"out",h.setAttribute("data-action","startPoint"),h.innerHTML=1,document.getElementById("content").appendChild(c),document.getElementById("Block"+b).appendChild(d),document.getElementById("Block"+b).appendChild(e),document.getElementById("Block"+b).appendChild(f),document.getElementById("Block"+b).appendChild(h),blocksArr.push([notBl,h.id,f.id]),observer.observe(c,options);break;case"nand":var c=document.createElement("div"),d=document.createElement("span"),e=document.createElement("div"),f=document.createElement("div"),h=document.createElement("div"),i=document.createElement("div");c.className="ui-draggable new",c.id="Block"+b,d.className="bl-span-id",d.innerHTML=c.id,e.className="block-name",e.setAttribute("data-action","canBeDel"),e.innerHTML="&NOT",f.className="in in1",f.id="b"+b+"in1",f.setAttribute("data-action","endPoint"),h.className="in in2",h.id="b"+b+"in2",h.setAttribute("data-action","endPoint"),i.className="out",i.id="b"+b+"out",i.setAttribute("data-action","startPoint"),i.innerHTML=1,document.getElementById("content").appendChild(c),document.getElementById("Block"+b).appendChild(d),document.getElementById("Block"+b).appendChild(e),document.getElementById("Block"+b).appendChild(f),document.getElementById("Block"+b).appendChild(h),document.getElementById("Block"+b).appendChild(i),blocksArr.push([nandBl,i.id,f.id,h.id]),observer.observe(c,options);break;case"nor":var c=document.createElement("div"),d=document.createElement("span"),e=document.createElement("div"),f=document.createElement("div"),h=document.createElement("div"),i=document.createElement("div");c.className="ui-draggable new",c.id="Block"+b,d.className="bl-span-id",d.innerHTML=c.id,e.className="block-name",e.setAttribute("data-action","canBeDel"),e.innerHTML="ORNOT",f.className="in in1",f.id="b"+b+"in1",f.setAttribute("data-action","endPoint"),h.className="in in2",h.id="b"+b+"in2",h.setAttribute("data-action","endPoint"),i.className="out",i.id="b"+b+"out",i.setAttribute("data-action","startPoint"),i.innerHTML=1,document.getElementById("content").appendChild(c),document.getElementById("Block"+b).appendChild(d),document.getElementById("Block"+b).appendChild(e),document.getElementById("Block"+b).appendChild(f),document.getElementById("Block"+b).appendChild(h),document.getElementById("Block"+b).appendChild(i),blocksArr.push([norBl,i.id,f.id,h.id]),observer.observe(c,options);break;case"delay":var c=document.createElement("div"),d=document.createElement("span"),e=document.createElement("div"),f=document.createElement("div"),h=document.createElement("div"),j=document.createElement("input"),k=document.createElement("span");c.className="ui-draggable new",c.id="Block"+b,d.className="bl-span-id",d.innerHTML=c.id,e.className="block-name",e.setAttribute("data-action","canBeDel"),e.innerHTML="DELAY",f.className="in in1",f.id="b"+b+"in1",f.setAttribute("data-action","endPoint"),h.className="out",h.id="b"+b+"out",h.setAttribute("data-action","startPoint"),h.innerHTML=0,j.id="b"+b+"input",j.setAttribute("type","number"),j.setAttribute("min","0"),j.setAttribute("value","1.5"),j.setAttribute("step","0.5"),k.innerHTML="S",document.getElementById("content").appendChild(c),document.getElementById("Block"+b).appendChild(d),document.getElementById("Block"+b).appendChild(e),document.getElementById("Block"+b).appendChild(f),document.getElementById("Block"+b).appendChild(h),document.getElementById("Block"+b).appendChild(j),document.getElementById("Block"+b).appendChild(k),blocksArr.push([delayBl,h.id,f.id,j.id]),observer.observe(f,options);break;case"ton":var c=document.createElement("div"),d=document.createElement("span"),e=document.createElement("div"),f=document.createElement("div"),h=document.createElement("div"),j=document.createElement("input"),k=document.createElement("span");c.className="ui-draggable new",c.id="Block"+b,d.className="bl-span-id",d.innerHTML=c.id,e.className="block-name",e.setAttribute("data-action","canBeDel"),e.innerHTML="TON",f.className="in in1",f.id="b"+b+"in1",f.setAttribute("data-action","endPoint"),h.className="out",h.id="b"+b+"out",h.setAttribute("data-action","startPoint"),h.innerHTML=0,j.id="b"+b+"input",j.setAttribute("type","number"),j.setAttribute("min","0"),j.setAttribute("value","1.5"),j.setAttribute("step","0.5"),k.innerHTML="S",document.getElementById("content").appendChild(c),document.getElementById("Block"+b).appendChild(d),document.getElementById("Block"+b).appendChild(e),document.getElementById("Block"+b).appendChild(f),document.getElementById("Block"+b).appendChild(h),document.getElementById("Block"+b).appendChild(j),document.getElementById("Block"+b).appendChild(k),blocksArr.push([tonBl,h.id,f.id,j.id]),observer.observe(f,options);break;case"tof":var c=document.createElement("div"),d=document.createElement("span"),e=document.createElement("div"),f=document.createElement("div"),h=document.createElement("div"),j=document.createElement("input"),k=document.createElement("span");c.className="ui-draggable new",c.id="Block"+b,d.className="bl-span-id",d.innerHTML=c.id,e.className="block-name",e.setAttribute("data-action","canBeDel"),e.innerHTML="TOF",f.className="in in1",f.id="b"+b+"in1",f.setAttribute("data-action","endPoint"),h.className="out",h.id="b"+b+"out",h.setAttribute("data-action","startPoint"),h.innerHTML=0,j.id="b"+b+"input",j.setAttribute("type","number"),j.setAttribute("min","0"),j.setAttribute("value","1.5"),j.setAttribute("step","0.5"),k.innerHTML="S",document.getElementById("content").appendChild(c),document.getElementById("Block"+b).appendChild(d),document.getElementById("Block"+b).appendChild(e),document.getElementById("Block"+b).appendChild(f),document.getElementById("Block"+b).appendChild(h),document.getElementById("Block"+b).appendChild(j),document.getElementById("Block"+b).appendChild(k),blocksArr.push([tofBl,h.id,f.id,j.id]),observer.observe(f,options);break;case"pulse":var c=document.createElement("div"),d=document.createElement("span"),e=document.createElement("div"),f=document.createElement("div"),h=document.createElement("div"),j=document.createElement("input"),k=document.createElement("span");c.className="ui-draggable new",c.id="Block"+b,d.className="bl-span-id",d.innerHTML=c.id,e.className="block-name",e.setAttribute("data-action","canBeDel"),e.innerHTML="PULSE",f.className="in in1",f.id="b"+b+"in1",f.setAttribute("data-action","endPoint"),h.className="out",h.id="b"+b+"out",h.setAttribute("data-action","startPoint"),h.innerHTML=0,j.id="b"+b+"input",j.setAttribute("type","number"),j.setAttribute("min","0"),j.setAttribute("value","1.5"),j.setAttribute("step","0.5"),k.innerHTML="S",document.getElementById("content").appendChild(c),document.getElementById("Block"+b).appendChild(d),document.getElementById("Block"+b).appendChild(e),document.getElementById("Block"+b).appendChild(f),document.getElementById("Block"+b).appendChild(h),document.getElementById("Block"+b).appendChild(j),document.getElementById("Block"+b).appendChild(k),blocksArr.push([pulseBl,h.id,f.id,j.id]),observer.observe(f,options);break;case"rs":var c=document.createElement("div"),d=document.createElement("span"),e=document.createElement("div"),f=document.createElement("div"),h=document.createElement("div"),i=document.createElement("div");span1=document.createElement("span"),span2=document.createElement("span"),c.className="ui-draggable new",c.id="Block"+b,d.className="bl-span-id",d.innerHTML=c.id,e.className="block-name",e.setAttribute("data-action","canBeDel"),e.innerHTML="RS",f.className="in in1",f.id="b"+b+"in1",f.setAttribute("data-action","endPoint"),span1.className="i-span1",span1.innerHTML="S",h.className="in in2",h.id="b"+b+"in2",h.setAttribute("data-action","endPoint"),span2.className="i-span2",span2.innerHTML="R",i.className="out",i.id="b"+b+"out",i.setAttribute("data-action","startPoint"),i.innerHTML=0,document.getElementById("content").appendChild(c),document.getElementById("Block"+b).appendChild(d),document.getElementById("Block"+b).appendChild(e),document.getElementById("Block"+b).appendChild(f),document.getElementById("Block"+b).appendChild(h),document.getElementById("Block"+b).appendChild(i),document.getElementById("Block"+b).appendChild(span1),document.getElementById("Block"+b).appendChild(span2),blocksArr.push([rsBl,i.id,f.id,h.id]),observer.observe(c,options);break;case"trig":var c=document.createElement("div"),d=document.createElement("span"),e=document.createElement("div"),f=document.createElement("div"),h=document.createElement("div");c.className="ui-draggable new",c.id="Block"+b,d.className="bl-span-id",d.innerHTML=c.id,e.className="block-name",e.setAttribute("data-action","canBeDel"),e.innerHTML="TRIG",f.className="in in1",f.id="b"+b+"in1",f.setAttribute("data-action","endPoint"),h.className="out",h.id="b"+b+"out",h.setAttribute("data-action","startPoint"),h.innerHTML=0,document.getElementById("content").appendChild(c),document.getElementById("Block"+b).appendChild(d),document.getElementById("Block"+b).appendChild(e),document.getElementById("Block"+b).appendChild(f),document.getElementById("Block"+b).appendChild(h),blocksArr.push([trigBl,h.id,f.id]),observer.observe(c,options)}}function outBl(a,b){var c=document.getElementById(b).parentElement,d=document.getElementById(b).innerHTML;document.getElementById(a).innerHTML=+d,1==+d?c.style.background="radial-gradient(#F7F7F7 0%,green 100%)":c.style.background="radial-gradient(#F7F7F7 0%,red 100%)"}function andBl(a,b,c){var d=document.getElementById(b).innerHTML,e=document.getElementById(c).innerHTML;document.getElementById(a).innerHTML=+d&+e}function orBl(a,b,c){var d=document.getElementById(b).innerHTML,e=document.getElementById(c).innerHTML;document.getElementById(a).innerHTML=+d|+e}function xorBl(a,b,c){var d=document.getElementById(b).innerHTML,e=document.getElementById(c).innerHTML;document.getElementById(a).innerHTML=+d^+e}function notBl(a,b){var c=document.getElementById(b).innerHTML;document.getElementById(a).innerHTML=+!+c}function nandBl(a,b,c){var d=document.getElementById(b).innerHTML,e=document.getElementById(c).innerHTML;document.getElementById(a).innerHTML=+!(+d&+e)}function norBl(a,b,c){var d=document.getElementById(b).innerHTML,e=document.getElementById(c).innerHTML;document.getElementById(a).innerHTML=+!(+d|+e)}function delayBl(a,b,c){function f(){document.getElementById(a).innerHTML=+d,chColor(a),chIn(a)}var d=document.getElementById(b).innerHTML,e=1e3*document.getElementById(c).value;setTimeout(f,e)}function tonBl(a,b,c){var f,d=document.getElementById(b).innerHTML,e=1e3*document.getElementById(c).value;clearTimeout(ctObj[a]),0==d&&(document.getElementById(a).innerHTML=0,btObj[a]=0),1!=d||btObj[a]||(f=setTimeout(initDelay,e,a,1),ctObj[a]=f)}function tofBl(a,b,c){var f,d=document.getElementById(b).innerHTML,e=1e3*document.getElementById(c).value;clearTimeout(ctObj[a]),1==d&&(document.getElementById(a).innerHTML=1,btObj[a]=0),0!=d||btObj[a]||(f=setTimeout(initDelay,e,a,0),ctObj[a]=f)}function pulseBl(a,b,c){var f,d=document.getElementById(b).innerHTML,e=1e3*document.getElementById(c).value;1!=d||btObj[a]||(document.getElementById(a).innerHTML=1,btObj[a]=1,f=setTimeout(initDelay,e,a,0),ctObj[a]=f,setTimeout(function(){btObj[a]=0},e))}function initDelay(a,b){document.getElementById(a).innerHTML=b,chColor(a),chIn(a),btObj[a]=1}function rsBl(a,b,c){function g(){f=!(!d&&!f||e),document.getElementById(a).innerHTML=+f,chColor(a),chIn(a)}var d=+document.getElementById(b).innerHTML,e=+document.getElementById(c).innerHTML,f=+document.getElementById(a).innerHTML;setTimeout(g,10)}function trigBl(a,b){var c=+document.getElementById(b).innerHTML;c&&(document.getElementById(a).innerHTML=1,setTimeout(initDelay,15,a,0))}function chColor(a){var b=document.getElementById(a),c=document.getElementById(a).innerHTML;if(0==c){b.style.background="#fd3939";for(var d=0;d<arrowsArr.length;d++)a==arrowsArr[d][0]&&(arrowsArr[d][2].updateOptions({render:{strokeStyle:"#fd3939"}}),arrowsArr[d][2].redraw())}else{b.style.background="#2d962d";for(var d=0;d<arrowsArr.length;d++)a==arrowsArr[d][0]&&(arrowsArr[d][2].updateOptions({render:{strokeStyle:"#2d962d"}}),arrowsArr[d][2].redraw())}}function init(a){var b=document.getElementById(a).innerHTML;b=0==b?1:0,document.getElementById(a).innerHTML=b,chColor(a),chIn(a)}function chIn(a){for(var c,d,b=document.getElementById(a).innerHTML,e=0;e<arrowsArr.length;e++)0==arrowsArr[e].indexOf(a)&&(c=e,d=arrowsArr[c][1],document.getElementById(d).innerHTML=b,chColor(d))}function dragndrop(){$("#content .ui-draggable").draggable({containment:"#content",scroll:!1,cursor:"move",drag:function(a,b){for(var c=0;c<arrowsArr.length;c++)arrowsArr[c][2].redraw()}})}Modernizr.canvas?console.log("support canvas +"):alert("Your browser does not support canvas!"),Modernizr.mutationobserver?console.log("support mutationobserver +"):alert("Your browser does not support mutationobserver!"),Modernizr.cssgradients?console.log("support cssgradients +"):alert("Your browser does not support cssgradients!");var arrowsArr=[],blocksArr=[],oId,p2,inUseObj={},ctObj={},btObj={},delMode=0;new Menu(menu);var arrowCur=$cArrows("#content");new ContentClick(content);var callback=function(a){var b=[];a.forEach(function(c,d){b.push(a[d].target.parentNode.id)});for(var c=0;c<b.length;c++)for(var d=0;d<blocksArr.length;d++)blocksArr[d][2]!=b[c]&&blocksArr[d][3]!=b[c]||(blocksArr[d][0](blocksArr[d][1],blocksArr[d][2],blocksArr[d][3]),chColor(blocksArr[d][1]),chIn(blocksArr[d][1]))},observer=new MutationObserver(callback),options={subtree:!0,characterData:!0};dragndrop();